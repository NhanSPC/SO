<?xml version="1.0" encoding="utf-8" ?>
<Root>
  <DBO name="pbs_SO_QT_{XXX}" type="U">
    <Install>
      IF NOT EXISTS (SELECT * FROM dbo.sysobjects WHERE id=OBJECT_ID(N'dbo.[pbs_SO_QT_{XXX}]'))
      BEGIN
        CREATE TABLE [dbo].[pbs_SO_QT_{XXX}](
        [REC_TYPE] [char](1) NOT NULL,
        [TRANS_REF] [char](15) NOT NULL,
        [HEADER_ID] [char](1) NOT NULL,
        [CUST_CODE] [char](15) NOT NULL,
        [TRANS_DATE] [int] NOT NULL,
        [STATUS] [char](15) NOT NULL,
        [TRANS_CD] [char](1) NOT NULL,
        [TRANS_CODE] [char](5) NOT NULL,
        [ORDER_NO] [char](15) NOT NULL,
        [D_NOTE_NO] [char](15) NOT NULL,
        [DELIV_ADD] [char](15) NOT NULL,
        [DELIV_ADDRESS] [nvarchar](200) NOT NULL,
        [ORDER_DATE] [int] NOT NULL,
        [ACK_DATE] [int] NOT NULL,
        [PICK_DATE] [int] NOT NULL,
        [DEL_DATE] [int] NOT NULL,
        [INV_DATE] [int] NOT NULL,
        [INV_PRD] [int] NOT NULL,
        [CUST_REF] [nvarchar](50) NOT NULL,
        [CONV_CODE] [char](5) NULL,
        [COMMENTS] [nvarchar](100) NOT NULL,
        [TRANS_VAL] [numeric](18, 5) NOT NULL,
        [PAY_DATE] [int] NOT NULL,
        [ANAL_ADD] [char](1) NOT NULL,
        [LINKED_TEXT] [char](1) NOT NULL,
        [ANAL_M0] [char](15) NOT NULL,
        [ANAL_M1] [char](15) NOT NULL,
        [ANAL_M2] [char](15) NOT NULL,
        [ANAL_M3] [char](15) NOT NULL,
        [ANAL_M4] [char](15) NOT NULL,
        [ANAL_M5] [char](15) NOT NULL,
        [ANAL_M6] [char](15) NOT NULL,
        [ANAL_M7] [char](15) NOT NULL,
        [ANAL_M8] [char](15) NOT NULL,
        [ANAL_M9] [char](15) NOT NULL,
        [QUOTE_CONVERT] [char](1) NOT NULL,
        [QUOTE_PRINT] [char](1) NOT NULL,
        [QUOTE_EXPIRY_DATE] [int] NOT NULL,
        [PERIOD_QUOTED] [int] NOT NULL,
        [QUOTATION_REF] [char](15) NOT NULL,
        [DATE_QUOTED] [int] NOT NULL,
        [VOID_STATUS] [char](1) NOT NULL,
        [EX_CUST_CODE1] [char](15) NOT NULL,
        [EX_CUST_CODE2] [char](15) NOT NULL,
        [EX_TEXT1] [nvarchar](100) NOT NULL,
        [EX_TEXT2] [nvarchar](100) NOT NULL,
        [EX_TEXT3] [nvarchar](100) NOT NULL,
        [EX_TEXT4] [nvarchar](100) NOT NULL,
        [EX_TEXT5] [nvarchar](100) NOT NULL,
        [EX_TEXT6] [nvarchar](100) NOT NULL,
        [EX_TEXT7] [nvarchar](50) NOT NULL,
        [EX_VAL1] [numeric](18, 5) NOT NULL,
        [EX_VAL2] [numeric](18, 5) NOT NULL,
        [EX_VAL3] [numeric](18, 5) NOT NULL,
        [EX_VAL4] [numeric](18, 5) NOT NULL,
        [EX_VAL5] [numeric](18, 5) NOT NULL,
        [EX_DATE1] [int] NOT NULL,
        [EX_DATE2] [int] NOT NULL,
        [EX_DATE3] [int] NOT NULL,
        [EX_DATE4] [int] NOT NULL,
        [EX_DATE5] [int] NOT NULL,
        [QUOTE_BY] [varchar](50) NOT NULL,
        [SO_BY] [varchar](50) NOT NULL,
        [IS_INTERFACE] [char](1) NOT NULL,
        [LOCKED] [char](1) NOT NULL,
        [LOCKED_BY] [varchar](50) NOT NULL,
        [UPDATED] [int] NOT NULL,
        [UDATED_BY] [varchar](15) NOT NULL,
        [TIME_STAMP] [timestamp] NULL,
        CONSTRAINT [PK_pbs_SO_QT_{XXX}_1] PRIMARY KEY CLUSTERED
        (
        [REC_TYPE] ASC,
        [TRANS_REF] ASC
        ))
      END
    </Install>
  </DBO>
  <DBO name="pbs_SO_QT_{XXX}_InsertUpdate" type="U">
    <Install>
      IF NOT EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[pbs_SO_QT_{XXX}_InsertUpdate]') AND OBJECTPROPERTY(id,N'IsProcedure') = 1)
      BEGIN
      EXEC dbo.sp_executesql @statement = N'
      CREATE PROCEDURE [dbo].[pbs_SO_QT_{XXX}_InsertUpdate]
      @REC_TYPE char(1),
      @TRANS_REF char(15),
      @HEADER_ID char(1),
      @CUST_CODE char(15),
      @TRANS_DATE int,
      @STATUS char(15),
      @TRANS_CD char(1),
      @TRANS_CODE char(5),
      @ORDER_NO char(15),
      @D_NOTE_NO char(15),
      @DELIV_ADD char(15),
      @DELIV_ADDRESS nvarchar (200),
      @ORDER_DATE int,
      @ACK_DATE int,
      @PICK_DATE int,
      @DEL_DATE int,
      @INV_DATE int,
      @INV_PRD int,
      @CUST_REF nvarchar (50),
      @CONV_CODE char(5),
      @COMMENTS nvarchar (100),
      @TRANS_VAL numeric(18, 5),
      @PAY_DATE int,
      @ANAL_ADD char(1),
      @LINKED_TEXT char(1),
      @ANAL_M0 char(15),
      @ANAL_M1 char(15),
      @ANAL_M2 char(15),
      @ANAL_M3 char(15),
      @ANAL_M4 char(15),
      @ANAL_M5 char(15),
      @ANAL_M6 char(15),
      @ANAL_M7 char(15),
      @ANAL_M8 char(15),
      @ANAL_M9 char(15),
      @QUOTE_CONVERT char(1),
      @QUOTE_PRINT char(1),
      @QUOTE_EXPIRY_DATE int,
      @PERIOD_QUOTED int,
      @QUOTATION_REF char(15),
      @DATE_QUOTED int,
      @VOID_STATUS char(1),
      @EX_CUST_CODE1 char(15),
      @EX_CUST_CODE2 char(15),
      @EX_TEXT1 nvarchar (100),
      @EX_TEXT2 nvarchar (100),
      @EX_TEXT3 nvarchar (100),
      @EX_TEXT4 nvarchar (100),
      @EX_TEXT5 nvarchar (100),
      @EX_TEXT6 nvarchar (100),
      @EX_TEXT7 nvarchar (50),
      @EX_VAL1 numeric(18, 5),
      @EX_VAL2 numeric(18, 5),
      @EX_VAL3 numeric(18, 5),
      @EX_VAL4 numeric(18, 5),
      @EX_VAL5 numeric(18, 5),
      @EX_DATE1 int,
      @EX_DATE2 int,
      @EX_DATE3 int,
      @EX_DATE4 int,
      @EX_DATE5 int,
      @QUOTE_BY varchar(50),
      @SO_BY varchar(50),
      @IS_INTERFACE char(1),
      @LOCKED char(1),
      @LOCKED_BY varchar(50),
      @UPDATED int,
      @UDATED_BY varchar(15)
      AS

      SET NOCOUNT ON

      IF EXISTS(SELECT REC_TYPE,TRANS_REF FROM [dbo].[pbs_SO_QT_{XXX}] WHERE [REC_TYPE] = @REC_TYPE AND [TRANS_REF] = @TRANS_REF)
      BEGIN
      UPDATE [dbo].[pbs_SO_QT_{XXX}] SET
      [HEADER_ID] = @HEADER_ID,
      [CUST_CODE] = @CUST_CODE,
      [TRANS_DATE] = @TRANS_DATE,
      [STATUS] = @STATUS,
      [TRANS_CD] = @TRANS_CD,
      [TRANS_CODE] = @TRANS_CODE,
      [ORDER_NO] = @ORDER_NO,
      [D_NOTE_NO] = @D_NOTE_NO,
      [DELIV_ADD] = @DELIV_ADD,
      [DELIV_ADDRESS] = @DELIV_ADDRESS,
      [ORDER_DATE] = @ORDER_DATE,
      [ACK_DATE] = @ACK_DATE,
      [PICK_DATE] = @PICK_DATE,
      [DEL_DATE] = @DEL_DATE,
      [INV_DATE] = @INV_DATE,
      [INV_PRD] = @INV_PRD,
      [CUST_REF] = @CUST_REF,
      [CONV_CODE] = @CONV_CODE,
      [COMMENTS] = @COMMENTS,
      [TRANS_VAL] = @TRANS_VAL,
      [PAY_DATE] = @PAY_DATE,
      [ANAL_ADD] = @ANAL_ADD,
      [LINKED_TEXT] = @LINKED_TEXT,
      [ANAL_M0] = @ANAL_M0,
      [ANAL_M1] = @ANAL_M1,
      [ANAL_M2] = @ANAL_M2,
      [ANAL_M3] = @ANAL_M3,
      [ANAL_M4] = @ANAL_M4,
      [ANAL_M5] = @ANAL_M5,
      [ANAL_M6] = @ANAL_M6,
      [ANAL_M7] = @ANAL_M7,
      [ANAL_M8] = @ANAL_M8,
      [ANAL_M9] = @ANAL_M9,
      [QUOTE_CONVERT] = @QUOTE_CONVERT,
      [QUOTE_PRINT] = @QUOTE_PRINT,
      [QUOTE_EXPIRY_DATE] = @QUOTE_EXPIRY_DATE,
      [PERIOD_QUOTED] = @PERIOD_QUOTED,
      [QUOTATION_REF] = @QUOTATION_REF,
      [DATE_QUOTED] = @DATE_QUOTED,
      [VOID_STATUS] = @VOID_STATUS,
      [EX_CUST_CODE1] = @EX_CUST_CODE1,
      [EX_CUST_CODE2] = @EX_CUST_CODE2,
      [EX_TEXT1] = @EX_TEXT1,
      [EX_TEXT2] = @EX_TEXT2,
      [EX_TEXT3] = @EX_TEXT3,
      [EX_TEXT4] = @EX_TEXT4,
      [EX_TEXT5] = @EX_TEXT5,
      [EX_TEXT6] = @EX_TEXT6,
      [EX_TEXT7] = @EX_TEXT7,
      [EX_VAL1] = @EX_VAL1,
      [EX_VAL2] = @EX_VAL2,
      [EX_VAL3] = @EX_VAL3,
      [EX_VAL4] = @EX_VAL4,
      [EX_VAL5] = @EX_VAL5,
      [EX_DATE1] = @EX_DATE1,
      [EX_DATE2] = @EX_DATE2,
      [EX_DATE3] = @EX_DATE3,
      [EX_DATE4] = @EX_DATE4,
      [EX_DATE5] = @EX_DATE5,
      [QUOTE_BY] = @QUOTE_BY,
      [SO_BY] = @SO_BY,
      [IS_INTERFACE] = @IS_INTERFACE,
      [LOCKED] = @LOCKED,
      [LOCKED_BY] = @LOCKED_BY,
      [UPDATED] = @UPDATED,
      [UDATED_BY] = @UDATED_BY
      WHERE [REC_TYPE] = @REC_TYPE AND [TRANS_REF] = @TRANS_REF
      END
      ELSE
      BEGIN
      INSERT INTO [dbo].[pbs_SO_QT_{XXX}] (
      [REC_TYPE],
      [TRANS_REF],
      [HEADER_ID],
      [CUST_CODE],
      [TRANS_DATE],
      [STATUS],
      [TRANS_CD],
      [TRANS_CODE],
      [ORDER_NO],
      [D_NOTE_NO],
      [DELIV_ADD],
      [DELIV_ADDRESS],
      [ORDER_DATE],
      [ACK_DATE],
      [PICK_DATE],
      [DEL_DATE],
      [INV_DATE],
      [INV_PRD],
      [CUST_REF],
      [CONV_CODE],
      [COMMENTS],
      [TRANS_VAL],
      [PAY_DATE],
      [ANAL_ADD],
      [LINKED_TEXT],
      [ANAL_M0],
      [ANAL_M1],
      [ANAL_M2],
      [ANAL_M3],
      [ANAL_M4],
      [ANAL_M5],
      [ANAL_M6],
      [ANAL_M7],
      [ANAL_M8],
      [ANAL_M9],
      [QUOTE_CONVERT],
      [QUOTE_PRINT],
      [QUOTE_EXPIRY_DATE],
      [PERIOD_QUOTED],
      [QUOTATION_REF],
      [DATE_QUOTED],
      [VOID_STATUS],
      [EX_CUST_CODE1],
      [EX_CUST_CODE2],
      [EX_TEXT1],
      [EX_TEXT2],
      [EX_TEXT3],
      [EX_TEXT4],
      [EX_TEXT5],
      [EX_TEXT6],
      [EX_TEXT7],
      [EX_VAL1],
      [EX_VAL2],
      [EX_VAL3],
      [EX_VAL4],
      [EX_VAL5],
      [EX_DATE1],
      [EX_DATE2],
      [EX_DATE3],
      [EX_DATE4],
      [EX_DATE5],
      [QUOTE_BY],
      [SO_BY],
      [IS_INTERFACE],
      [LOCKED],
      [LOCKED_BY],
      [UPDATED],
      [UDATED_BY]
      ) VALUES (
      @REC_TYPE,
      @TRANS_REF,
      @HEADER_ID,
      @CUST_CODE,
      @TRANS_DATE,
      @STATUS,
      @TRANS_CD,
      @TRANS_CODE,
      @ORDER_NO,
      @D_NOTE_NO,
      @DELIV_ADD,
      @DELIV_ADDRESS,
      @ORDER_DATE,
      @ACK_DATE,
      @PICK_DATE,
      @DEL_DATE,
      @INV_DATE,
      @INV_PRD,
      @CUST_REF,
      @CONV_CODE,
      @COMMENTS,
      @TRANS_VAL,
      @PAY_DATE,
      @ANAL_ADD,
      @LINKED_TEXT,
      @ANAL_M0,
      @ANAL_M1,
      @ANAL_M2,
      @ANAL_M3,
      @ANAL_M4,
      @ANAL_M5,
      @ANAL_M6,
      @ANAL_M7,
      @ANAL_M8,
      @ANAL_M9,
      @QUOTE_CONVERT,
      @QUOTE_PRINT,
      @QUOTE_EXPIRY_DATE,
      @PERIOD_QUOTED,
      @QUOTATION_REF,
      @DATE_QUOTED,
      @VOID_STATUS,
      @EX_CUST_CODE1,
      @EX_CUST_CODE2,
      @EX_TEXT1,
      @EX_TEXT2,
      @EX_TEXT3,
      @EX_TEXT4,
      @EX_TEXT5,
      @EX_TEXT6,
      @EX_TEXT7,
      @EX_VAL1,
      @EX_VAL2,
      @EX_VAL3,
      @EX_VAL4,
      @EX_VAL5,
      @EX_DATE1,
      @EX_DATE2,
      @EX_DATE3,
      @EX_DATE4,
      @EX_DATE5,
      @QUOTE_BY,
      @SO_BY,
      @IS_INTERFACE,
      @LOCKED,
      @LOCKED_BY,
      @UPDATED,
      @UDATED_BY
      )
      END'
      END
    </Install>
  </DBO>

  <DBO name="pbs_SO_QTD_{XXX}" type="U">
    <Install>
      IF NOT EXISTS (SELECT * FROM dbo.sysobjects WHERE id=OBJECT_ID(N'dbo.[pbs_SO_QTD_{XXX}]'))
      BEGIN
      CREATE TABLE [dbo].[pbs_SO_QTD_{XXX}](
      [REC_TYPE] [char](1) NOT NULL,
      [TRANS_REF] [char](15) NOT NULL,
      [TRANS_LINE] [char](5) NOT NULL,
      [DETAIL_ID] [char](1) NOT NULL,
      [LOCATION] [varchar](15) NOT NULL,
      [ITEM_CODE] [char](15) NOT NULL,
      [DUE_DATE] [int] NOT NULL,
      [STATUS] [char](15) NOT NULL,
      [TRANS_CD] [char](1) NOT NULL,
      [DESCRIPTN] [nvarchar](100) NOT NULL,
      [VALUE_1] [numeric](18, 5) NOT NULL,
      [VALUE_2] [numeric](18, 5) NOT NULL,
      [VALUE_3] [numeric](18, 5) NOT NULL,
      [VALUE_4] [numeric](18, 5) NOT NULL,
      [VALUE_5] [numeric](18, 5) NOT NULL,
      [VALUE_6] [numeric](18, 5) NOT NULL,
      [VALUE_7] [numeric](18, 5) NOT NULL,
      [VALUE_8] [numeric](18, 5) NOT NULL,
      [VALUE_9] [numeric](18, 5) NOT NULL,
      [VALUE_10] [numeric](18, 5) NOT NULL,
      [VALUE_11] [numeric](18, 5) NOT NULL,
      [VALUE_12] [numeric](18, 5) NOT NULL,
      [VALUE_13] [numeric](18, 5) NOT NULL,
      [VALUE_14] [numeric](18, 5) NOT NULL,
      [VALUE_15] [numeric](18, 5) NOT NULL,
      [VALUE_16] [numeric](18, 5) NOT NULL,
      [VALUE_17] [numeric](18, 5) NOT NULL,
      [VALUE_18] [numeric](18, 5) NOT NULL,
      [VALUE_19] [numeric](18, 5) NOT NULL,
      [VALUE_20] [numeric](18, 5) NOT NULL,
      [TRANS_TYPE] [char](5) NOT NULL,
      [DEL_DATE] [int] NOT NULL,
      [INV_DATE] [int] NOT NULL,
      [ORD_PRD] [int] NOT NULL,
      [INV_PRD] [int] NOT NULL,
      [UNIT_SALE] [varchar](5) NOT NULL,
      [INV_NO] [char](15) NOT NULL,
      [ACK_PRINT] [char](1) NOT NULL,
      [MISC_PRINT] [char](1) NOT NULL,
      [ALLOC_REF] [char](19) NOT NULL,
      [RECPT_REF] [char](15) NOT NULL,
      [LINE_ANAL] [char](1) NOT NULL,
      [ACCNT_CODE] [char](15) NOT NULL,
      [ASSET_CODE] [char](10) NOT NULL,
      [ASS_SUB_CODE] [char](5) NOT NULL,
      [ASSET_IND] [char](1) NOT NULL,
      [ID_ENTERED] [char](5) NOT NULL,
      [ID_INVOICED] [char](5) NOT NULL,
      [LINKED_TEXT] [char](1) NOT NULL,
      [ANAL_M0] [char](15) NOT NULL,
      [ANAL_M1] [char](15) NOT NULL,
      [ANAL_M2] [char](15) NOT NULL,
      [ANAL_M3] [char](15) NOT NULL,
      [ANAL_M4] [char](15) NOT NULL,
      [ANAL_M5] [char](15) NOT NULL,
      [ANAL_M6] [char](15) NOT NULL,
      [ANAL_M7] [char](15) NOT NULL,
      [ANAL_M8] [char](15) NOT NULL,
      [ANAL_M9] [char](15) NOT NULL,
      [ASSEMBLY_IND] [char](1) NOT NULL,
      [ASSEMBLY_DESC] [char](1) NOT NULL,
      [ASSEMBLY_LEVEL] [char](1) NOT NULL,
      [PRICE_BOOK] [char](15) NOT NULL,
      [CONV_CODE] [char](5) NULL,
      [SALE_QTY] [numeric](18, 5) NOT NULL,
      [STK_QTY] [numeric](18, 5) NOT NULL,
      [TOT_VALUE] [int] NOT NULL,
      [DISP_VAL_1] [int] NOT NULL,
      [DISP_VAL_2] [int] NOT NULL,
      [DISP_VAL_3] [int] NOT NULL,
      [MISC_DOC_PRINT_1] [char](1) NOT NULL,
      [MISC_DOC_PRINT_2] [char](1) NOT NULL,
      [MISC_DOC_PRINT_3] [char](1) NOT NULL,
      [MISC_DOC_PRINT_4] [char](1) NOT NULL,
      [MISC_DOC_PRINT_5] [char](1) NOT NULL,
      [D_NOTE_NO] [char](15) NOT NULL,
      [IS_INTERFACED] [char](1) NOT NULL,
      [UPDATED] [int] NOT NULL,
      [UPDATED_BY] [varchar](15) NOT NULL,
      [TIME_STAMP] [timestamp] NULL,
      CONSTRAINT [PK_pbs_SO_QTD_{XXX}] PRIMARY KEY CLUSTERED
      (
      [TRANS_REF] ASC,
      [TRANS_LINE] ASC
      )
      )
      END
    </Install>
  </DBO>
  <DBO name="pbs_SO_QTD_{XXX}_InsertUpdate" type="P">
    <Install>
      IF NOT EXISTS (SELECT * FROM dbo.sysobjects WHERE id = OBJECT_ID(N'[dbo].[pbs_SO_QTD_{XXX}_InsertUpdate]') AND OBJECTPROPERTY(id,N'IsProcedure') = 1)
      BEGIN
      EXEC dbo.sp_executesql @statement = N'
      CREATE PROCEDURE [dbo].[pbs_SO_QTD_{XXX}_InsertUpdate]
      @REC_TYPE char(1),
      @TRANS_REF char(15),
      @TRANS_LINE char(5),
      @DETAIL_ID char(1),
      @LOCATION varchar(15),
      @ITEM_CODE char(15),
      @DUE_DATE int,
      @STATUS char(15),
      @TRANS_CD char(1),
      @DESCRIPTN nvarchar (100),
      @VALUE_1 numeric(18, 5),
      @VALUE_2 numeric(18, 5),
      @VALUE_3 numeric(18, 5),
      @VALUE_4 numeric(18, 5),
      @VALUE_5 numeric(18, 5),
      @VALUE_6 numeric(18, 5),
      @VALUE_7 numeric(18, 5),
      @VALUE_8 numeric(18, 5),
      @VALUE_9 numeric(18, 5),
      @VALUE_10 numeric(18, 5),
      @VALUE_11 numeric(18, 5),
      @VALUE_12 numeric(18, 5),
      @VALUE_13 numeric(18, 5),
      @VALUE_14 numeric(18, 5),
      @VALUE_15 numeric(18, 5),
      @VALUE_16 numeric(18, 5),
      @VALUE_17 numeric(18, 5),
      @VALUE_18 numeric(18, 5),
      @VALUE_19 numeric(18, 5),
      @VALUE_20 numeric(18, 5),
      @TRANS_TYPE char(5),
      @DEL_DATE int,
      @INV_DATE int,
      @ORD_PRD int,
      @INV_PRD int,
      @UNIT_SALE varchar(5),
      @INV_NO char(15),
      @ACK_PRINT char(1),
      @MISC_PRINT char(1),
      @ALLOC_REF char(19),
      @RECPT_REF char(15),
      @LINE_ANAL char(1),
      @ACCNT_CODE char(15),
      @ASSET_CODE char(10),
      @ASS_SUB_CODE char(5),
      @ASSET_IND char(1),
      @ID_ENTERED char(5),
      @ID_INVOICED char(5),
      @LINKED_TEXT char(1),
      @ANAL_M0 char(15),
      @ANAL_M1 char(15),
      @ANAL_M2 char(15),
      @ANAL_M3 char(15),
      @ANAL_M4 char(15),
      @ANAL_M5 char(15),
      @ANAL_M6 char(15),
      @ANAL_M7 char(15),
      @ANAL_M8 char(15),
      @ANAL_M9 char(15),
      @ASSEMBLY_IND char(1),
      @ASSEMBLY_DESC char(1),
      @ASSEMBLY_LEVEL char(1),
      @PRICE_BOOK char(15),
      @CONV_CODE char(5),
      @SALE_QTY numeric(18, 5),
      @STK_QTY numeric(18, 5),
      @TOT_VALUE int,
      @DISP_VAL_1 int,
      @DISP_VAL_2 int,
      @DISP_VAL_3 int,
      @MISC_DOC_PRINT_1 char(1),
      @MISC_DOC_PRINT_2 char(1),
      @MISC_DOC_PRINT_3 char(1),
      @MISC_DOC_PRINT_4 char(1),
      @MISC_DOC_PRINT_5 char(1),
      @D_NOTE_NO char(15),
      @IS_INTERFACED char(1),
      @UPDATED int,
      @UPDATED_BY varchar(15)
      AS

      SET NOCOUNT ON

      IF EXISTS(SELECT TRANS_REF,TRANS_LINE FROM [dbo].[pbs_SO_QTD_{XXX}] WHERE [TRANS_REF] = @TRANS_REF AND [TRANS_LINE] = @TRANS_LINE)
      BEGIN
      UPDATE [dbo].[pbs_SO_QTD_{XXX}] SET
      [REC_TYPE] = @REC_TYPE,
      [DETAIL_ID] = @DETAIL_ID,
      [LOCATION] = @LOCATION,
      [ITEM_CODE] = @ITEM_CODE,
      [DUE_DATE] = @DUE_DATE,
      [STATUS] = @STATUS,
      [TRANS_CD] = @TRANS_CD,
      [DESCRIPTN] = @DESCRIPTN,
      [VALUE_1] = @VALUE_1,
      [VALUE_2] = @VALUE_2,
      [VALUE_3] = @VALUE_3,
      [VALUE_4] = @VALUE_4,
      [VALUE_5] = @VALUE_5,
      [VALUE_6] = @VALUE_6,
      [VALUE_7] = @VALUE_7,
      [VALUE_8] = @VALUE_8,
      [VALUE_9] = @VALUE_9,
      [VALUE_10] = @VALUE_10,
      [VALUE_11] = @VALUE_11,
      [VALUE_12] = @VALUE_12,
      [VALUE_13] = @VALUE_13,
      [VALUE_14] = @VALUE_14,
      [VALUE_15] = @VALUE_15,
      [VALUE_16] = @VALUE_16,
      [VALUE_17] = @VALUE_17,
      [VALUE_18] = @VALUE_18,
      [VALUE_19] = @VALUE_19,
      [VALUE_20] = @VALUE_20,
      [TRANS_TYPE] = @TRANS_TYPE,
      [DEL_DATE] = @DEL_DATE,
      [INV_DATE] = @INV_DATE,
      [ORD_PRD] = @ORD_PRD,
      [INV_PRD] = @INV_PRD,
      [UNIT_SALE] = @UNIT_SALE,
      [INV_NO] = @INV_NO,
      [ACK_PRINT] = @ACK_PRINT,
      [MISC_PRINT] = @MISC_PRINT,
      [ALLOC_REF] = @ALLOC_REF,
      [RECPT_REF] = @RECPT_REF,
      [LINE_ANAL] = @LINE_ANAL,
      [ACCNT_CODE] = @ACCNT_CODE,
      [ASSET_CODE] = @ASSET_CODE,
      [ASS_SUB_CODE] = @ASS_SUB_CODE,
      [ASSET_IND] = @ASSET_IND,
      [ID_ENTERED] = @ID_ENTERED,
      [ID_INVOICED] = @ID_INVOICED,
      [LINKED_TEXT] = @LINKED_TEXT,
      [ANAL_M0] = @ANAL_M0,
      [ANAL_M1] = @ANAL_M1,
      [ANAL_M2] = @ANAL_M2,
      [ANAL_M3] = @ANAL_M3,
      [ANAL_M4] = @ANAL_M4,
      [ANAL_M5] = @ANAL_M5,
      [ANAL_M6] = @ANAL_M6,
      [ANAL_M7] = @ANAL_M7,
      [ANAL_M8] = @ANAL_M8,
      [ANAL_M9] = @ANAL_M9,
      [ASSEMBLY_IND] = @ASSEMBLY_IND,
      [ASSEMBLY_DESC] = @ASSEMBLY_DESC,
      [ASSEMBLY_LEVEL] = @ASSEMBLY_LEVEL,
      [PRICE_BOOK] = @PRICE_BOOK,
      [CONV_CODE] = @CONV_CODE,
      [SALE_QTY] = @SALE_QTY,
      [STK_QTY] = @STK_QTY,
      [TOT_VALUE] = @TOT_VALUE,
      [DISP_VAL_1] = @DISP_VAL_1,
      [DISP_VAL_2] = @DISP_VAL_2,
      [DISP_VAL_3] = @DISP_VAL_3,
      [MISC_DOC_PRINT_1] = @MISC_DOC_PRINT_1,
      [MISC_DOC_PRINT_2] = @MISC_DOC_PRINT_2,
      [MISC_DOC_PRINT_3] = @MISC_DOC_PRINT_3,
      [MISC_DOC_PRINT_4] = @MISC_DOC_PRINT_4,
      [MISC_DOC_PRINT_5] = @MISC_DOC_PRINT_5,
      [D_NOTE_NO] = @D_NOTE_NO,
      [IS_INTERFACED] = @IS_INTERFACED,
      [UPDATED] = @UPDATED,
      [UPDATED_BY] = @UPDATED_BY
      WHERE [TRANS_REF] = @TRANS_REF AND [TRANS_LINE] = @TRANS_LINE
      END
      ELSE
      BEGIN
      INSERT INTO [dbo].[pbs_SO_QTD_{XXX}] (
      [REC_TYPE],
      [TRANS_REF],
      [TRANS_LINE],
      [DETAIL_ID],
      [LOCATION],
      [ITEM_CODE],
      [DUE_DATE],
      [STATUS],
      [TRANS_CD],
      [DESCRIPTN],
      [VALUE_1],
      [VALUE_2],
      [VALUE_3],
      [VALUE_4],
      [VALUE_5],
      [VALUE_6],
      [VALUE_7],
      [VALUE_8],
      [VALUE_9],
      [VALUE_10],
      [VALUE_11],
      [VALUE_12],
      [VALUE_13],
      [VALUE_14],
      [VALUE_15],
      [VALUE_16],
      [VALUE_17],
      [VALUE_18],
      [VALUE_19],
      [VALUE_20],
      [TRANS_TYPE],
      [DEL_DATE],
      [INV_DATE],
      [ORD_PRD],
      [INV_PRD],
      [UNIT_SALE],
      [INV_NO],
      [ACK_PRINT],
      [MISC_PRINT],
      [ALLOC_REF],
      [RECPT_REF],
      [LINE_ANAL],
      [ACCNT_CODE],
      [ASSET_CODE],
      [ASS_SUB_CODE],
      [ASSET_IND],
      [ID_ENTERED],
      [ID_INVOICED],
      [LINKED_TEXT],
      [ANAL_M0],
      [ANAL_M1],
      [ANAL_M2],
      [ANAL_M3],
      [ANAL_M4],
      [ANAL_M5],
      [ANAL_M6],
      [ANAL_M7],
      [ANAL_M8],
      [ANAL_M9],
      [ASSEMBLY_IND],
      [ASSEMBLY_DESC],
      [ASSEMBLY_LEVEL],
      [PRICE_BOOK],
      [CONV_CODE],
      [SALE_QTY],
      [STK_QTY],
      [TOT_VALUE],
      [DISP_VAL_1],
      [DISP_VAL_2],
      [DISP_VAL_3],
      [MISC_DOC_PRINT_1],
      [MISC_DOC_PRINT_2],
      [MISC_DOC_PRINT_3],
      [MISC_DOC_PRINT_4],
      [MISC_DOC_PRINT_5],
      [D_NOTE_NO],
      [IS_INTERFACED],
      [UPDATED],
      [UPDATED_BY]
      ) VALUES (
      @REC_TYPE,
      @TRANS_REF,
      @TRANS_LINE,
      @DETAIL_ID,
      @LOCATION,
      @ITEM_CODE,
      @DUE_DATE,
      @STATUS,
      @TRANS_CD,
      @DESCRIPTN,
      @VALUE_1,
      @VALUE_2,
      @VALUE_3,
      @VALUE_4,
      @VALUE_5,
      @VALUE_6,
      @VALUE_7,
      @VALUE_8,
      @VALUE_9,
      @VALUE_10,
      @VALUE_11,
      @VALUE_12,
      @VALUE_13,
      @VALUE_14,
      @VALUE_15,
      @VALUE_16,
      @VALUE_17,
      @VALUE_18,
      @VALUE_19,
      @VALUE_20,
      @TRANS_TYPE,
      @DEL_DATE,
      @INV_DATE,
      @ORD_PRD,
      @INV_PRD,
      @UNIT_SALE,
      @INV_NO,
      @ACK_PRINT,
      @MISC_PRINT,
      @ALLOC_REF,
      @RECPT_REF,
      @LINE_ANAL,
      @ACCNT_CODE,
      @ASSET_CODE,
      @ASS_SUB_CODE,
      @ASSET_IND,
      @ID_ENTERED,
      @ID_INVOICED,
      @LINKED_TEXT,
      @ANAL_M0,
      @ANAL_M1,
      @ANAL_M2,
      @ANAL_M3,
      @ANAL_M4,
      @ANAL_M5,
      @ANAL_M6,
      @ANAL_M7,
      @ANAL_M8,
      @ANAL_M9,
      @ASSEMBLY_IND,
      @ASSEMBLY_DESC,
      @ASSEMBLY_LEVEL,
      @PRICE_BOOK,
      @CONV_CODE,
      @SALE_QTY,
      @STK_QTY,
      @TOT_VALUE,
      @DISP_VAL_1,
      @DISP_VAL_2,
      @DISP_VAL_3,
      @MISC_DOC_PRINT_1,
      @MISC_DOC_PRINT_2,
      @MISC_DOC_PRINT_3,
      @MISC_DOC_PRINT_4,
      @MISC_DOC_PRINT_5,
      @D_NOTE_NO,
      @IS_INTERFACED,
      @UPDATED,
      @UPDATED_BY
      )
      END'
      END
    </Install>
  </DBO>
</Root>